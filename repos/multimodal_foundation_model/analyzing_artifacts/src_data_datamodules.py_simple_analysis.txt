Implemented the requested logic analysis in `src/data/datamodules.py`.

It now contains a full analysis-only blueprint for DataModules covering:
- Stage-specific responsibilities (`pretrain`, `finetune`, `embed`, `eval`)
- Exact batch contracts for multimodal and supervised flows
- Manifest/split/feature-store integration rules
- Patient-level union-of-patches aggregation policy
- Determinism/DDP/sampling behavior (including 2048 train patch sampling)
- Error handling and validation constraints
- Direct alignment with the provided paper, design, task spec, and `config.yaml` values.